[
  {
    "id": 1,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "sad",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:22:15.984209"
  },
  {
    "id": 2,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "ád",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:22:20.924415"
  },
  {
    "id": 3,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "ád",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:22:21.364803"
  },
  {
    "id": 4,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "= Format thời gian === */\r\nfunction formatTime(iso){\r\n  const d=new Date(iso);const vn=new Date(d.getTime()+7*3600000);\r\n  const diff=Date.now()-vn;if(diff<6e4)return'Vừa xong';\r\n  if(diff<36e5)return Math.floor(diff/6e4)+' phút trước';\r\n  if(diff<864e5)return Math.floor(diff/36e5)+' giờ trước';\r\n  return vn.toLocaleString('vi-VN',{hour:'2-digit',minute:'2-digit',day:'2-digit',month:'2-digit',year:'numeric'});\r\n}\r\n\r\n\r\n/* === Paste & DragDrop === */\r\nfunction setupPasteHandler(){[messageInput,chatMessages].forEach(el=>{\r\n  el.addEventListener('paste',e=>{\r\n    const items=e.clipboardData?.items||[];\r\n    for(const it of items){if(it.type.includes('image')){e.preventDefault();\r\n      const blob=it.getAsFile();const dt=new DataTransfer();dt.items.add(new File([blob],`pasted-${Date.now()}.png`,{type:blob.type}));\r\n      fileInput.files=dt.files;showFilePreview(dt.files[0]);messageInput.focus();break;}\r\n    }",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:22:25.659644"
  },
  {
    "id": 5,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "* === Polling fallback === */\r\nfunction startPolling(){\r\n  if(refreshInterval)clearInterval(refreshInterval);\r\n  refreshInterval=setInterval(refreshMessages,3000);\r\n}\r\nfunction stopPolling(){\r\n  if(refreshInterval){clearInterval(refreshInterval);refreshInterval=null;}\r\n}\r\nasync function refreshMessages(){\r\n  try{\r\n    const r=await fetch('/chat/group/messages');\r\n    const d=await r.json();\r\n    if(d.success){displayMessages(d.messages);}\r\n  }catch(e){console.error(e);}",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:22:38.878765"
  },
  {
    "id": 6,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "# Emit socket event để realtime update         try:             socketio.emit('new_message', {'message': new_message}, broadcast=True)         except:             pass                  return jsonify({             'success': True,             'message': new_message",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:53:41.979726"
  },
  {
    "id": 7,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "# Emit socket event để realtime update\r\n        try:\r\n            socketio.emit('new_message', {'message': new_message}, broadcast=True)\r\n        except:\r\n            pass\r\n        \r\n        return jsonify({\r\n            'success': True,\r\n            'message': new_message",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T02:54:40.186119"
  },
  {
    "id": 8,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "hi",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T06:42:00.629347"
  },
  {
    "id": 9,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "test",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T06:42:09.611304"
  },
  {
    "id": 10,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "tét",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T06:42:17.751384"
  },
  {
    "id": 11,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "25",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T06:44:34.978650"
  },
  {
    "id": 12,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "hdask",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:10.200333"
  },
  {
    "id": 13,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "ads",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:16.913159"
  },
  {
    "id": 14,
    "sender_id": 10,
    "receiver_id": 0,
    "message": ";ljas\\",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:18.788416"
  },
  {
    "id": 15,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "á;ljdaslkdjas;lk",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:19.687819"
  },
  {
    "id": 16,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "ádjaslkdj",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:20.320084"
  },
  {
    "id": 17,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "aslkdhasl;d",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:20.949076"
  },
  {
    "id": 18,
    "sender_id": 10,
    "receiver_id": 0,
    "message": "ádlkhasdl",
    "attachment_filename": null,
    "attachment_original_name": null,
    "is_read": false,
    "created_at": "2025-11-15T13:46:21.605086"
  }
]